:root {
  /* 主题颜色 */
  --text-color: rgb(38, 37, 13);           /* 深色文字 */
  --background-color: rgb(242, 241, 217);   /* 浅色背景 */
  --button-color: rgb(14, 92, 10);          /* 绿色按钮 */
  --hover-color: rgb(92, 10, 14);           /* 悬停时的红色 */
  
  /* 派生颜色 */
  --background-light: rgb(235, 234, 210);   /* 稍深的背景 */
  --background-lighter: rgb(248, 247, 230); /* 更浅的背景 */
  --button-hover: rgb(18, 115, 13);         /* 按钮悬停色(稍亮的绿) */
  
  /* 边框和分隔线 */
  --border-color: rgb(200, 199, 180);
  
  /* 半透明背景 */
  --glass-bg: rgba(242, 241, 217, 0.95);
  --glass-border: rgba(38, 37, 13, 0.1);
}

/* 全局文字和背景颜色 */
body {
  color: var(--text-color) !important;
  background-color: var(--background-color) !important;
}

/* 链接颜色 */
a {
  color: var(--text-color);
  text-decoration: none;
}

a:hover {
  color: var(--hover-color) !important;
}

/* 卡片背景 - 使用纯背景色 */
.card, 
.glass-card {
  background: var(--background-color) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.card-header, 
.glass-header {
  background: var(--background-light) !important;
  border-bottom-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.card-footer, 
.glass-footer {
  background: var(--background-light) !important;
  border-top-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

/* 按钮样式 */
.btn-primary,
.btn-gradient-primary,
.btn-success,
.btn-gradient-success,
.btn-glass-success {
  background: var(--button-color) !important;
  border-color: var(--button-color) !important;
  color: white !important;
  transition: all 0.3s ease;
}

.btn-primary:hover,
.btn-gradient-primary:hover,
.btn-success:hover,
.btn-gradient-success:hover,
.btn-glass-success:hover {
  background: var(--button-hover) !important;
  border-color: var(--button-hover) !important;
  color: white !important;
}

.btn-glass {
  background: var(--background-light) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.btn-glass:hover {
  background: var(--background-lighter) !important;
  color: var(--hover-color) !important;
}

.btn-glass-warning {
  background: rgba(255, 193, 7, 0.2) !important;
  border-color: rgba(255, 193, 7, 0.3) !important;
  color: rgb(180, 100, 0) !important;
}

.btn-glass-warning:hover {
  background: rgba(255, 193, 7, 0.3) !important;
  color: var(--hover-color) !important;
}

.btn-outline-primary,
.btn-outline-secondary {
  background: transparent !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.btn-outline-primary:hover,
.btn-outline-secondary:hover {
  background: var(--button-color) !important;
  border-color: var(--button-color) !important;
  color: white !important;
}

.btn-secondary {
  background: rgb(108, 117, 125) !important;
  border-color: rgb(108, 117, 125) !important;
  color: white !important;
}

.btn-secondary:hover {
  background: rgb(90, 98, 104) !important;
  border-color: rgb(90, 98, 104) !important;
}

/* 表格样式 */
.table {
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

.table thead {
  background-color: var(--background-light) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

.table-light {
  background-color: var(--background-light) !important;
  color: var(--text-color) !important;
}

.table tbody tr:hover {
  background-color: var(--background-lighter) !important;
}

.table tbody td,
.table tbody th,
.table thead th {
  border-color: var(--border-color) !important;
}

/* 表单控件 */
.form-control,
.form-select {
  background-color: white !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.form-control:focus,
.form-select:focus {
  background-color: white !important;
  border-color: var(--button-color) !important;
  color: var(--text-color) !important;
  box-shadow: 0 0 0 0.25rem rgba(14, 92, 10, 0.25) !important;
}

.form-control::placeholder {
  color: rgb(120, 119, 100) !important;
  opacity: 0.7;
}

.form-label {
  color: var(--text-color) !important;
}

/* 导航栏 */
.navbar {
  background-color: var(--background-color) !important;
  border-bottom: 1px solid var(--border-color) !important;
}

.bg-body-tertiary {
  background-color: var(--background-color) !important;
}

/* "CSS修炼之路" 品牌标题 - 始终为深红色 */
.navbar-brand {
  color: rgb(92, 10, 14) !important;
  font-weight: 700;
  transition: opacity 0.3s ease;
}

.navbar-brand:hover {
  color: rgb(92, 10, 14) !important;
  opacity: 0.8;
}

/* 导航链接 */
.nav-link {
  color: var(--text-color) !important;
  transition: color 0.3s ease;
}

.nav-link:hover {
  color: var(--hover-color) !important;
}

/* 激活的导航链接 - 深红色 */
.nav-link.router-link-active,
.nav-link.router-link-exact-active {
  color: rgb(92, 10, 14) !important;
  font-weight: 600;
}

/* 确保下拉菜单中的激活链接也是深红色 */
.dropdown-item.router-link-active,
.dropdown-item.router-link-exact-active {
  color: rgb(92, 10, 14) !important;
  background-color: var(--background-light) !important;
}

.navbar-toggler {
  border-color: var(--border-color) !important;
}

.navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgb(38, 37, 13)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
}

/* 下拉菜单 */
.dropdown-menu {
  background-color: var(--background-color) !important;
  border-color: var(--border-color) !important;
}

.dropdown-item {
  color: var(--text-color) !important;
}

.dropdown-item:hover,
.dropdown-item:focus {
  background-color: var(--background-light) !important;
  color: var(--hover-color) !important;
}

.dropdown-divider {
  border-top-color: var(--border-color) !important;
}

.dropdown-toggle {
  color: var(--text-color) !important;
}

.dropdown-toggle:hover {
  color: var(--hover-color) !important;
}

/* 模态框 */
.modal-content,
.modal-glass {
  background-color: var(--background-color) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.modal-header {
  border-bottom-color: var(--border-color) !important;
}

.modal-footer {
  border-top-color: var(--border-color) !important;
}

.modal-title {
  color: var(--text-color) !important;
}

.btn-close {
  filter: none;
  opacity: 0.5;
}

.btn-close:hover {
  opacity: 1;
}

.modal-backdrop {
  background-color: rgba(38, 37, 13, 0.5);
}

/* Alert 警告框 */
.alert {
  background-color: var(--background-light) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.glass-alert {
  background-color: var(--glass-bg) !important;
  border-color: var(--glass-border) !important;
}

.alert-heading {
  color: var(--text-color) !important;
}

.alert-danger {
  background-color: rgb(248, 215, 218) !important;
  border-color: rgb(245, 198, 203) !important;
  color: rgb(114, 28, 36) !important;
}

/* Badge 徽章 - 保持系统默认颜色 */
.badge {
  /* 使用 Bootstrap 默认的背景色 */
}

/* 自定义 badge 样式，保持良好可读性 */
.bg-secondary {
  background-color: rgb(108, 117, 125) !important;
  color: white !important;
}

/* 进度条 */
.progress {
  background-color: var(--background-light) !important;
}

/* 代码块 */
pre, code {
  background-color: var(--background-light) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

.code-display {
  background-color: var(--background-light) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

/* Markdown 内容 */
.markdown-content {
  color: var(--text-color) !important;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  color: var(--text-color) !important;
  border-bottom-color: var(--border-color) !important;
}

.markdown-content code {
  background-color: var(--background-light) !important;
  color: var(--button-color) !important;
}

.markdown-content pre {
  background-color: var(--background-light) !important;
  border-color: var(--border-color) !important;
}

.markdown-content pre code {
  background-color: transparent !important;
  color: var(--text-color) !important;
}

.markdown-content blockquote {
  border-left-color: var(--button-color) !important;
  color: rgb(80, 79, 60) !important;
}

.markdown-content a {
  color: var(--button-color) !important;
}

.markdown-content a:hover {
  color: var(--hover-color) !important;
}

/* 加载动画 */
.spinner-border {
  color: var(--button-color) !important;
}

.loading-container {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
}

/* 空状态 */
.empty-state {
  background-color: var(--background-light) !important;
  color: var(--text-color) !important;
}

/* 统计卡片 */
.stat-card,
.stat-item {
  background-color: var(--background-color) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

/* Tab 标签页 */
.nav-tabs {
  border-bottom-color: var(--border-color) !important;
}

.nav-tabs .nav-link {
  color: var(--text-color) !important;
  background-color: transparent !important;
  border-color: transparent !important;
}

.nav-tabs .nav-link:hover {
  background-color: var(--background-lighter) !important;
  color: var(--hover-color) !important;
}

.nav-tabs .nav-link.active,
.gradient-tab {
  background-color: var(--button-color) !important;
  color: white !important;
  border-color: var(--button-color) !important;
}

.glass-tab {
  background-color: transparent !important;
  color: var(--text-color) !important;
}

.glass-tab:hover {
  color: var(--hover-color) !important;
}

/* 预览区域 */
.preview-placeholder {
  background: var(--background-light) !important;
  color: rgb(100, 99, 80) !important;
}

.preview-container {
  background-color: white !important;
}

/* 星级显示 */
.star,
.star-small {
  color: rgb(200, 199, 180) !important;
}

.star.filled,
.star-small.filled {
  color: rgb(255, 193, 7) !important;
}

/* 评测结果 */
.evaluation-result {
  background: var(--button-color) !important;
  color: white !important;
}

.stars-container .star {
  color: rgb(255, 215, 0) !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

/* 滚动条样式 */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--background-light);
}

::-webkit-scrollbar-thumb {
  background: var(--button-color);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--button-hover);
}

/* 图形关系图的特殊样式 */
.graph-container {
  background-color: transparent !important;
}

/* 错误信息 */
.error_message {
  color: rgb(220, 53, 69) !important;
}

/* 确保文本输入可见 */
input[type="text"],
input[type="password"],
textarea {
  background-color: white !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

input[type="text"]:focus,
input[type="password"]:focus,
textarea:focus {
  background-color: white !important;
  color: var(--text-color) !important;
  border-color: var(--button-color) !important;
}

/* 小文本颜色调整 */
small,
.small {
  color: rgb(100, 99, 80) !important;
}

.text-muted {
  color: rgb(108, 117, 125) !important;
}

/* 强调文本 */
strong,
.fw-bold {
  color: var(--text-color) !important;
}

/* 练习徽章 */
.exercise-badge {
  color: var(--hover-color) !important;
  font-weight: 700;
}

/* 确保主内容区域背景色正确 */
.main-content {
  background-color: transparent !important;
}

.app-wrapper {
  background-color: var(--background-color) !important;
  background-image: none !important;
}

/* 移除所有渐变效果，使用纯色 */
.btn-gradient-primary,
.btn-gradient-success {
  background: var(--button-color) !important;
  background-image: none !important;
}

/* ContentField 组件 */
.content-field {
  background-color: transparent !important;
}

/* 确保所有卡片使用统一背景 */
.card-body {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
}

/* Ace Editor 编辑器 */
.ace_editor {
  background-color: white !important;
}

.ace_gutter {
  background-color: var(--background-light) !important;
  color: var(--text-color) !important;
}

/* 确保表格行悬停效果清晰 */
.table-hover tbody tr:hover {
  background-color: var(--background-lighter) !important;
}

/* 分页组件（如果有） */
.pagination .page-link {
  background-color: var(--background-color) !important;
  border-color: var(--border-color) !important;
  color: var(--text-color) !important;
}

.pagination .page-link:hover {
  background-color: var(--background-light) !important;
  color: var(--hover-color) !important;
}

.pagination .page-item.active .page-link {
  background-color: var(--button-color) !important;
  border-color: var(--button-color) !important;
  color: white !important;
}

/* 面包屑导航（如果有） */
.breadcrumb {
  background-color: var(--background-light) !important;
}

.breadcrumb-item a {
  color: var(--text-color) !important;
}

.breadcrumb-item a:hover {
  color: var(--hover-color) !important;
}

.breadcrumb-item.active {
  color: var(--text-color) !important;
}

/* 工具提示（如果有） */
.tooltip-inner {
  background-color: var(--text-color) !important;
  color: var(--background-color) !important;
}

/* 确保按钮禁用状态可见 */
.btn:disabled,
.btn.disabled {
  opacity: 0.5 !important;
}

/* router-link 激活状态 - 深红色 */
.router-link-active,
.router-link-exact-active {
  color: rgb(92, 10, 14) !important;
}

/* 确保导航栏中的激活链接也是深红色 */
.navbar .router-link-active,
.navbar .router-link-exact-active {
  color: rgb(92, 10, 14) !important;
}

/* 优化对比度 */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-color) !important;
}

p {
  color: var(--text-color) !important;
}
/* 补充样式 - 针对特定页面的颜色调整 */

/* 1. 练习题页面和我的成绩页面的卡片背景 */
/* 这些页面的 card 使用更浅的米色 */

/* 练习题详情页面的卡片 */
.exercise-container .card,
.exercise-container .glass-card {
  background: rgb(249, 248, 236) !important;
}

.exercise-container .card-header,
.exercise-container .glass-header {
  background: rgb(249, 248, 236) !important;
}

.exercise-container .card-body {
  background: rgb(249, 248, 236) !important;
}

.exercise-container .card-footer,
.exercise-container .glass-footer {
  background: rgb(249, 248, 236) !important;
}

/* 我的成绩页面的整体背景和卡片 */
.content-field .card,
.content-field .glass-card {
  background: rgb(249, 248, 236) !important;
}

.content-field .card-body {
  background: rgb(249, 248, 236) !important;
}

/* 统计信息卡片 */
.content-field .stat-card,
.content-field .stat-item {
  background: rgb(249, 248, 236) !important;
}

/* 2. 查看代码按钮 - 透明底，带边框 */
.btn-sm.btn-glass.me-2,
button.btn-sm.btn-outline-primary {
  background: transparent !important;
  border: 2px solid rgb(14, 92, 10) !important;
  color: rgb(14, 92, 10) !important;
}

.btn-sm.btn-glass.me-2:hover,
button.btn-sm.btn-outline-primary:hover {
  background: rgba(14, 92, 10, 0.1) !important;
  border-color: rgb(14, 92, 10) !important;
  color: rgb(14, 92, 10) !important;
}

/* 3. 重新练习按钮 - 实心背景 */
.btn-sm.btn-gradient-success,
a.btn-sm.btn-gradient-success {
  background: rgb(14, 92, 10) !important;
  border: 2px solid rgb(14, 92, 10) !important;
  color: white !important;
}

.btn-sm.btn-gradient-success:hover,
a.btn-sm.btn-gradient-success:hover {
  background: rgb(18, 115, 13) !important;
  border-color: rgb(18, 115, 13) !important;
  color: white !important;
}

/* 4. 隐藏星星旁边的文字标签 */
/* 只显示星星，不显示 "X/3 星" 的 badge */
.stars-display .badge {
  display: none !important;
}

/* 调整星星显示，使其居中且更明显 */
.stars-display {
  display: flex;
  align-items: center;
  justify-content: center;
}

.stars-display .star {
  font-size: 1.8rem !important;
  margin: 0 2px;
}

/* 表格中的小星星显示 */
.stars-display-small .badge,
.stars-display-small .text-muted.small {
  display: none !important;
}

.stars-display-small {
  display: flex;
  align-items: center;
  justify-content: center;
}

.stars-display-small .star-small {
  font-size: 1.4rem !important;
  margin: 0 2px;
}

/* 确保教师查看学生成绩页面也应用相同样式 */
.table .stars-display .badge,
.table .stars-display-small .badge {
  display: none !important;
}

/* 模态框中查看代码的卡片也使用浅色背景 */
.modal-glass .card,
.modal-content .card {
  background: rgb(249, 248, 236) !important;
}

/* 确保表格背景与页面协调 */
/* 表格容器背景 */
.content-field .table-responsive {
  background-color: rgb(249, 248, 236) !important;
}

/* 表格本身背景 */
.content-field .table {
  background-color: rgb(249, 248, 236) !important;
}

/* 表头背景稍深 */
.content-field .table thead {
  background-color: rgb(242, 241, 217) !important;
}

.content-field .table thead th {
  background-color: rgb(242, 241, 217) !important;
}

/* 表格行背景 - 加强优先级 */
.content-field .table tbody tr {
  background-color: rgb(249, 248, 236) !important;
}

/* 表格单元格背景 - 这是关键 */
.content-field .table tbody tr td,
.content-field .table tbody tr th {
  background-color: rgb(249, 248, 236) !important;
}

/* 额外确保 - 针对具体的表格类 */
.content-field .table.table-hover tbody tr {
  background-color: rgb(249, 248, 236) !important;
}

.content-field .table.table-hover tbody tr td,
.content-field .table.table-hover tbody tr th {
  background-color: rgb(249, 248, 236) !important;
}

/* 悬停效果 */
.content-field .table tbody tr:hover {
  background-color: rgb(242, 241, 217) !important;
}

.content-field .table tbody tr:hover td,
.content-field .table tbody tr:hover th {
  background-color: rgb(242, 241, 217) !important;
}

/* table-hover 类的样式 */
.content-field .table-hover tbody tr:hover {
  background-color: rgb(242, 241, 217) !important;
}

.content-field .table-hover tbody tr:hover td,
.content-field .table-hover tbody tr:hover th {
  background-color: rgb(242, 241, 217) !important;
}

/* 覆盖 Bootstrap 的斑马纹样式（如果有） */
.content-field .table-striped tbody tr:nth-of-type(odd) {
  background-color: rgb(249, 248, 236) !important;
}

.content-field .table-striped tbody tr:nth-of-type(odd) td,
.content-field .table-striped tbody tr:nth-of-type(odd) th {
  background-color: rgb(249, 248, 236) !important;
}

.content-field .table-striped tbody tr:nth-of-type(even) {
  background-color: rgb(249, 248, 236) !important;
}

.content-field .table-striped tbody tr:nth-of-type(even) td,
.content-field .table-striped tbody tr:nth-of-type(even) th {
  background-color: rgb(249, 248, 236) !important;
}

/* 空状态提示框 */
.content-field .empty-state {
  background-color: rgb(249, 248, 236) !important;
}

/* 加载容器 */
.content-field .loading-container {
  background-color: rgb(249, 248, 236) !important;
}

/* 练习题页面的加载和错误状态 */
.exercise-container .loading-container,
.exercise-container .glass-alert {
  background-color: rgb(249, 248, 236) !important;
}

/* 确保模态框内的按钮样式正确 */
.modal-body .btn-outline-primary,
.modal-body .btn-glass {
  background: transparent !important;
  border: 2px solid rgb(14, 92, 10) !important;
  color: rgb(14, 92, 10) !important;
}

.modal-footer .btn-primary,
.modal-footer .btn-gradient-primary {
  background: rgb(14, 92, 10) !important;
  border: 2px solid rgb(14, 92, 10) !important;
  color: white !important;
}